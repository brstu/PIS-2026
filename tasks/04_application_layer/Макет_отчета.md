<p align="center">–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–µ–ª–∞—Ä—É—Å—å</p>
<p align="center">–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</p>
<p align="center">"–ë—Ä–µ—Å—Ç—Å–∫–∏–π –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç"</p>
<p align="center">–ö–∞—Ñ–µ–¥—Ä–∞ –ò–ò–¢</p>
<br><br><br><br><br><br>
<p align="center"><strong>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ4</strong></p>
<p align="center"><strong>–ü–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ:</strong> "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–∏—Å—Ç–µ–º"</p>
<p align="center"><strong>–¢–µ–º–∞:</strong> "Application Layer: Commands, Queries, Handlers"</p>
<br><br><br><br><br><br>
<p align="right"><strong>–í—ã–ø–æ–ª–Ω–∏–ª:</strong></p>
<p align="right">–°—Ç—É–¥–µ–Ω—Ç 3 –∫—É—Ä—Å–∞</p>
<p align="right">–ì—Ä—É–ø–ø–∞ ______</p>
<p align="right">_[–≤–∞—à–µ –§–ò–û]_</p>
<p align="right"><strong>–ü—Ä–æ–≤–µ—Ä–∏–ª:</strong></p>
<p align="right">–ù–µ—Å—é–∫ –ê.–ù.</p>
<br><br><br><br><br>
<p align="center"><strong>–ë—Ä–µ—Å—Ç 2026</strong></p>

---

## –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–ø—Ä–∏–∫–ª–∞–¥ÔøΩ –æ–π —Å–ª–æ–π** (Application Layer) —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ **–∫–æ–º–∞–Ω–¥—ã** (–∏–∑–º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ) –∏ **–∑–∞–ø—Ä–æ—Å—ã** (—á–∏—Ç–∞—é—Ç –¥–∞–Ω–Ω—ã–µ) –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É CQRS.

---

## –í–∞—Ä–∏–∞–Ω—Ç ‚Ññ___ ‚Äî _[–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã]_

**–ü–∏—Ç—á:** _[–ò–∑ –í–ê–†–ò–ê–ù–¢–´_–õ–ê–ë–û–†–ê–¢–û–†–ù–´–•.md]_  
**–Ø–¥—Ä–æ –¥–æ–º–µ–Ω–∞:** _[–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏]_

---

## –•–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

### 1. –ö–æ–º–∞–Ω–¥—ã (Commands)

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

1. **_[CreateXCommand]_** ‚Äî _[–æ–ø–∏—Å–∞–Ω–∏–µ]_
   - –ü–æ–ª—è: `_[—Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π]_`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è: _[–∫–∞–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤]_
   - –§–∞–π–ª: `application/command/_[—Ñ–∞–π–ª]_.py`

2. **_[UpdateYCommand]_** ‚Äî _[–æ–ø–∏—Å–∞–Ω–∏–µ]_
   - –ü–æ–ª—è: `_[–ø–æ–ª—è]_`
   - –§–∞–π–ª: `application/command/_[—Ñ–∞–π–ª]_.py`

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã:**
```python
_[–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã]_
```

---

### 2. Command Handlers

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:**

1. **_[CreateXHandler]_** ‚Äî _[—á—Ç–æ –¥–µ–ª–∞–µ—Ç]_
   - –®–∞–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏: _[–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, —Å–æ–±—ã—Ç–∏—è]_
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: _[ID –∏–ª–∏ void]_
   - –§–∞–π–ª: `application/command/handlers/_[—Ñ–∞–π–ª]_.py`

2. **_[UpdateYHandler]_** ‚Äî _[—á—Ç–æ –¥–µ–ª–∞–µ—Ç]_
   - –®–∞–≥–∏: _[–∑–∞–≥—Ä—É–∑–∫–∞, –∏–∑–º–µ–Ω–µ–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ]_
   - –§–∞–π–ª: `application/command/handlers/_[—Ñ–∞–π–ª]_.py`

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ handler:**
```python
_[–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏]_
```

**–°–∫—Ä–∏–Ω—à–æ—Ç —Ç–µ—Å—Ç–∞:**

_[Pytest –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ handler]_

---

### 3. Queries (–ó–∞–ø—Ä–æ—Å—ã)

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**

1. **_[GetXByIdQuery]_** ‚Äî _[–æ–ø–∏—Å–∞–Ω–∏–µ]_
   - –ü–æ–ª—è: `_[ID –ø–æ–ª–µ]_`
   - –§–∞–π–ª: `application/query/_[—Ñ–∞–π–ª]_.py`

2. **_[ListActiveXQuery]_** ‚Äî _[–æ–ø–∏—Å–∞–Ω–∏–µ]_
   - –ü–æ–ª—è: `_[—Ñ–∏–ª—å—Ç—Ä—ã, –ø–∞–≥–∏–Ω–∞—Ü–∏—è]_`
   - –§–∞–π–ª: `application/query/_[—Ñ–∞–π–ª]_.py`

**Read DTOs:**

- **_[XDto]_** ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —á—Ç–µ–Ω–∏—è
   - –ü–æ–ª—è: `_[—Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π –±–µ–∑ –º–µ—Ç–æ–¥–æ–≤]_`
   - –§–∞–π–ª: `application/query/dto/_[—Ñ–∞–π–ª]_.py`

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```python
_[–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ Query –∏ DTO]_
```

---

### 4. Query Handlers

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:**

1. **_[GetXByIdHandler]_** ‚Äî _[—á—Ç–æ –¥–µ–ª–∞–µ—Ç]_
   - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `_[–∫–∞–∫–æ–π repository –∏—Å–ø–æ–ª—å–∑—É–µ—Ç]_`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `_[XDto]_`
   - –§–∞–π–ª: `application/query/handlers/_[—Ñ–∞–π–ª]_.py`

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```python
_[–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ Query Handler]_
```

**–°–∫—Ä–∏–Ω—à–æ—Ç:**

_[–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞]_

---

### 5. Application Service (–§–∞—Å–∞–¥)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å:** `_[RequestService / OrderService]_`

**–ú–µ—Ç–æ–¥—ã:**

| –ú–µ—Ç–æ–¥ | –¢–∏–ø | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|-------|-----|------------|
| `create_X(command)` | Command | ID |
| `update_Y(command)` | Command | void |
| `get_X_by_id(query)` | Query | XDto |

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```python
_[–í—Å—Ç–∞–≤—å—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Ä–≤–∏—Å–∞-—Ñ–∞—Å–∞–¥–∞]_
```

---

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã:**

| –¢–µ—Å—Ç | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç | –°—Ç–∞—Ç—É—Å |
|------|---------------|--------|
| `test_create_handler` | –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ç–∞, –≤—ã–∑–æ–≤ save() | ‚úÖ |
| `test_handler_publishes_events` | –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π | ‚úÖ |
| `test_query_handler_not_found` | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ" | ‚úÖ |

**–°–∫—Ä–∏–Ω—à–æ—Ç pytest:**

_[–í—ã–≤–æ–¥ pytest —Å 100% –ø–æ–∫—Ä—ã—Ç–∏–µ–º handlers]_

---

## –¢–∞–±–ª–∏—Ü–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –æ—Ü–µ–Ω–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ë–∞–ª–ª—ã | –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
|----------|-------|-----------|
| –ö–æ–º–∞–Ω–¥—ã (DTOs): –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ | 15 | ‚ùå / ‚úÖ |
| Command Handlers: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Å–æ–±—ã—Ç–∏—è, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ | 25 | ‚ùå / ‚úÖ |
| –ó–∞–ø—Ä–æ—Å—ã (DTOs): read-–º–æ–¥–µ–ª–∏ –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ | 10 | ‚ùå / ‚úÖ |
| Query Handlers: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –≤ DTO | 15 | ‚ùå / ‚úÖ |
| Application Service (—Ñ–∞—Å–∞–¥): –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | 20 | ‚ùå / ‚úÖ |
| –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã handlers: mocker, —Å–æ–±—ã—Ç–∏—è | 10 | ‚ùå / ‚úÖ |
| –ö–∞—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | 5 | ‚ùå / ‚úÖ |
| **–ò–¢–û–ì–û** | **100** | |

---

## –ë–æ–Ω—É—Å—ã

| –ë–æ–Ω—É—Å | –ë–∞–ª–ª—ã | –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
|-------|-------|-----------|
| REST API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (HTTP endpoints) | +5 | ‚ùå / ‚úÖ |
| Bean Validation (@NotBlank, @Valid) | +4 | ‚ùå / ‚úÖ |
| Exception Handling (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫) | +3 | ‚ùå / ‚úÖ |
| OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger) | +3 | ‚ùå / ‚úÖ |

**–ò–¢–û–ì–û –±–æ–Ω—É—Å–æ–≤:** _[—á–∏—Å–ª–æ]_ / 15

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. **–í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Command –∏ Query?**
   - _[–í–∞—à –æ—Ç–≤–µ—Ç]_

2. **–ü–æ—á–µ–º—É Command Handler –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ ID, –∞ –Ω–µ –≤–µ—Å—å –æ–±—ä–µ–∫—Ç?**
   - _[–í–∞—à –æ—Ç–≤–µ—Ç]_

3. **–ì–¥–µ –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: –≤ –∫–æ–º–∞–Ω–¥–µ, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∏–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏?**
   - _[–í–∞—à –æ—Ç–≤–µ—Ç]_

4. **–ú–æ–∂–Ω–æ –ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å Query –∏–∑ Command Handler?**
   - _[–í–∞—à –æ—Ç–≤–µ—Ç]_

5. **–ó–∞—á–µ–º —Ä–∞–∑–¥–µ–ª—è—Ç—å Request DTO (–æ—Ç –∫–ª–∏–µ–Ω—Ç–∞) –∏ Command (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)?**
   - _[–í–∞—à –æ—Ç–≤–µ—Ç]_

---

## –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

üëâ **GitHub:** _[URL]_

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏:**
```
lab-04/
‚îú‚îÄ‚îÄ –û—Ç—á–µ—Ç.md
‚îú‚îÄ‚îÄ application/
‚îÇ   ‚îú‚îÄ‚îÄ command/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ create_x_command.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ create_x_handler.py
‚îÇ   ‚îú‚îÄ‚îÄ query/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ get_x_by_id_query.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ x_dto.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ get_x_by_id_handler.py
‚îÇ   ‚îî‚îÄ‚îÄ service/
‚îÇ       ‚îî‚îÄ‚îÄ x_service.py
‚îî‚îÄ‚îÄ tests/
    ‚îú‚îÄ‚îÄ test_create_handler.py
    ‚îî‚îÄ‚îÄ test_queries.py
```

---

## –í—ã–≤–æ–¥

‚úçÔ∏è _[–ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥: —á—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –∫–∞–∫ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –∏ –∑–∞–ø—Ä–æ—Å—ã, –∫–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤–æ–∑–Ω–∏–∫–ª–∏]_

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 5 Command Handlers –∏ 3 Query Handlers. –í—Å–µ handlers –ø–æ–∫—Ä—ã—Ç—ã —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞–º–∏. –ö–æ–º–∞–Ω–¥—ã –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã, –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ."
- "–§–∞—Å–∞–¥ Application Service –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º handlers. –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è."

---

**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** _[–î–∞—Ç–∞]_  
**–û—Ü–µ–Ω–∫–∞:** _____________  
**–ü–æ–¥–ø–∏—Å—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:** _____________
